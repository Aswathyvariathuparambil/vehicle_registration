<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>vehicle registration</title>
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.js" type="text/javascript"></script>
    <link href="styles.css" rel="stylesheet" />
</head>
<body>
    <div class="box">
    <form>
        <h1>VEHICLE REGISTRATION</h1>
        <fieldset>

            <label for="number">enter the name:<input id="number" type="text" required /></label><br><br />
            <label for="type">enter the type:<input id="type" type="text" required /></label><br><br />
            <label for="year">enter the year:<input id="year" type="text" required /></label><br><br />
            <label for="model">enter the model:<input id="model" type="text" required /></label><br><br />
           
        </fieldset>

        <input type="button" value="submit" onclick="add()" />

    </form>
        </div>
    <p id="show"></p>
    <script>
        function add() {
            let number = document.getElementById("number").value;
            console.log(number);
            let type = document.getElementById("type").value;
            console.log(type);
            let year = document.getElementById("year").value;
            console.log(year);

            let model = document.getElementById("model").value;
            console.log(model);

            $.ajax({
                type: "POST",
                url: "vehicle_details.aspx/Save",
                data: JSON.stringify({
                    number1: number,
                    type1: type,
                    year1: year,
                    model1:model
                }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    if (r.d) {
                        const show = document.getElementById("show");
                        show.textContent = "Your registered ID Number : " + r.d;
                        show.classList.add("active");

                        document.getElementById("number").value = "";
                        document.getElementById("type").value = "";
                        document.getElementById("year").value = "";
                        document.getElementById("model").value = "";
                    } else {
                        alert("Failed to get registration ID from server.");
                    }
                },
                error: function (xhr, status, error) {
                    console.error("Error:", error);
                    alert("Something went wrong with the server request.");
                }
            });
        }
    </script>




</body>
</html>